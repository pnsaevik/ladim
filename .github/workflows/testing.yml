name: Test workflow

on: push

jobs:
  test:
    runs-on: ubuntu-latest
    name: Run tests
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Installation
        run: pip install .
      - name: Install test framework
        run: pip install pytest
      - name: Testing
        run: pytest
      - name: Install sphinx
        run: pip install sphinx
      - name: Build documentation
        run: sphinx-build -v -b html -n doc/source doc/build
      - name: Upload documentation
        uses: actions/upload-pages-artifact@v2
        with:
          path: doc/build/
